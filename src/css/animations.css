/* ==================== ANIMATIONS & TRANSITIONS ==================== */

/* Question card transitions */
.question-card-container {
    position: relative;
}

#question-card {
    animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Slide in animation for new questions */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Slide out animation when navigating */
@keyframes slideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(-30px);
    }
}

.slide-out {
    animation: slideOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards !important;
}

/* ==================== ANSWER SELECTION ANIMATIONS ==================== */

/* Pulse animation when selecting an answer */
@keyframes pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(0.98);
    }
    100% {
        transform: scale(1);
    }
}

.option {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.option:active:not(.disabled) {
    animation: pulse 0.3s ease;
}

/* Improved hover effect */
.option:hover:not(.disabled) {
    transform: translateX(4px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
}

/* ==================== CORRECT/INCORRECT ANIMATIONS ==================== */

/* Celebration animation for correct answer */
@keyframes celebrate {
    0% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.05) rotate(-2deg);
    }
    50% {
        transform: scale(1.08) rotate(2deg);
    }
    75% {
        transform: scale(1.05) rotate(-1deg);
    }
    100% {
        transform: scale(1) rotate(0deg);
    }
}

.option.correct {
    animation: celebrate 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2);
}

/* Shake animation for wrong answer */
@keyframes shake {
    0%, 100% {
        transform: translateX(0);
    }
    25% {
        transform: translateX(-8px);
    }
    75% {
        transform: translateX(8px);
    }
}

.option.wrong {
    animation: shake 0.4s ease;
    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.2);
}

/* Smooth color transition for selected option */
.option.selected {
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.25);
    transform: translateX(4px);
}

/* ==================== BUTTON ANIMATIONS ==================== */

.btn {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn:active:not(:disabled) {
    transform: scale(0.97);
}

/* ==================== PROGRESS BAR ANIMATION ==================== */

.progress-fill {
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ==================== FADE IN ANIMATION ==================== */

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in {
    animation: fadeIn 0.4s ease;
}

/* ==================== STATS CARD ANIMATIONS ==================== */

.stat-card {
    animation: fadeIn 0.5s ease backwards;
}

.stat-card:nth-child(1) {
    animation-delay: 0.1s;
}

.stat-card:nth-child(2) {
    animation-delay: 0.2s;
}

.stat-card:nth-child(3) {
    animation-delay: 0.3s;
}

.stat-card:nth-child(4) {
    animation-delay: 0.4s;
}

/* ==================== CHECKMARK & X ANIMATIONS ==================== */

@keyframes popIn {
    0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
    }
    70% {
        transform: scale(1.2) rotate(10deg);
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

.answer-icon {
    display: inline-block;
    animation: popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ==================== MOBILE OPTIMIZATIONS ==================== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Disable complex animations on slower devices */
@media (max-width: 640px) {
    @keyframes slideIn {
        from {
            opacity: 0.5;
        }
        to {
            opacity: 1;
        }
    }

    .option:hover:not(.disabled) {
        transform: none;
    }
}
